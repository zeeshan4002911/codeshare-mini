<section id="app-header">
  <nav class="navbar navbar-expand-lg navbar border-bottom p-0">
    <div class="container-fluid p-0 justify-content-around justify-content-md-between">
      <!-- Left Application title -->
      <a class="navbar-brand ps-3" href="#">&lt;/&gt; codeshare mini</a>

      <!-- Right section for language, formatter, theme toggle and more option -->
      <span class="d-flex align-items-center pe-1">
        <div class="dropdown px-2">
          <button 
            class="btn dropdown-header dropdown-toggle p-1 " 
            type="button" 
            data-bs-toggle="dropdown" 
            aria-expanded="false"
          >
            {{selectedLanguage?.['aliases']?.[0] || selectedLanguage['id']}}
          </button>
          <ul class="dropdown-menu w-100">
            @for (language of languages; track language['id']) {
              <li 
                class="dropdown-item text-truncate cursor-pointer" 
                (click)="selectLanguage(language)"
              >
                {{language?.['aliases']?.[0] || (language['id'] | titlecase) }}
              </li>
            }
          </ul>
        </div>

        <button 
          class="btn btn-theme py-1 px-2"
          [ngClass]="{
            'btn-theme-dark': themeMode == 'light', 
            'btn-theme-light': themeMode == 'dark'
          }" 
          (click)="this.moreOptionHanlder('format-code')"
          data-bs-toggle="tooltip"
          title="Formatter"
        >
          <i class="bi bi-braces"></i>
        </button>

        <button 
          class="btn btn-theme py-1 px-2"
          [ngClass]="{
            'btn-theme-dark': themeMode == 'light', 
            'btn-theme-light': themeMode == 'dark'
          }"
          (click)="toggleTheme()"
          data-bs-toggle="tooltip"
          title="Toggle theme"
        >
          @if(themeMode == 'light') {
            <i class="bi bi-moon-stars"></i>
          } @else {
            <i class="bi bi-sun"></i>
          }
        </button>

        <button 
          #popoverBtn
          type="button" 
          class="btn btn-theme py-1 px-2"
          data-bs-toggle="popover" 
          data-bs-placement="bottom" 
        >
          <i 
            class="bi bi-three-dots-vertical"
            data-bs-toggle="tooltip"
            title="More options"
          ></i>
        </button>
      </span>
    </div>
  </nav>
</section>

<!-- More Option Feature Buttons -->
<ng-template #popoverContent>
  <div class="d-flex flex-column">
    <div class="d-flex justify-content-center">
      <button 
        class="btn btn-theme btn-theme-borderless py-1 px-2" 
        (click)="moreOptionHanlder('scroll-to-top')"
        data-bs-toggle="tooltip"
        title="Move to top"
      >
        <i class="bi bi-arrow-up"></i>
      </button>
      <button 
        class="btn btn-theme btn-theme-borderless py-1 px-2" 
        (click)="moreOptionHanlder('scroll-to-bottom')"
        data-bs-toggle="tooltip"
        title="Move to bottom"
      >
        <i class="bi bi-arrow-down"></i>
      </button>
    </div>
    <div class="d-flex justify-content-center">
      <button 
        class="btn btn-theme btn-theme-borderless py-1 px-2" 
        (click)="moreOptionHanlder('undo')"
        data-bs-toggle="tooltip"
        title="Undo"
      >
        <i class="bi bi-arrow-counterclockwise"></i>
      </button>
      <button 
        class="btn btn-theme btn-theme-borderless py-1 px-2" 
        (click)="moreOptionHanlder('redo')"
        data-bs-toggle="tooltip"
        title="Redo"
      >
        <i class="bi bi-arrow-clockwise"></i>
      </button>
    </div>
    <div class="d-flex justify-content-center">
      <button 
        class="btn btn-theme btn-theme-borderless p-1" 
        (click)="moreOptionHanlder('font-up')"
        data-bs-toggle="tooltip"
        title="Font increment"
      >
        A <i class="bi bi-caret-up-fill icon-super"></i>
      </button>
      <button 
        class="btn btn-theme btn-theme-borderless p-1" 
        (click)="moreOptionHanlder('font-down')"
        data-bs-toggle="tooltip"
        title="Font decrement"
      >
        A <i class="bi bi-caret-down-fill icon-super"></i>
      </button>
    </div>
  </div>
</ng-template>

<!-- Router outlet for rendering views -->
<router-outlet></router-outlet>